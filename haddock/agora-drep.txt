-- Hoogle documentation, generated by Haddock
-- See Hoogle, http://www.haskell.org/hoogle/


@package agora-drep
@version 0.1.0.0


-- | @since WIP
module Agora.Utils

-- | Get the sum of all values belonging to a particular CurrencySymbol.
--   
--   @since WIP
psymbolValueOf :: forall (keys :: KeyGuarantees) (amounts :: AmountGuarantees) (s :: S). Term s (PCurrencySymbol :--> (PValue keys amounts :--> PInteger))

-- | Fused filter and length
--   
--   @since WIP
pcountIf :: forall (list :: (S -> Type) -> S -> Type) (a :: S -> Type) (s :: S). PIsListLike list a => Term s ((a :--> PBool) :--> (list a :--> PInteger))

-- | @since WIP
pcurrencySymbolToScriptHash :: forall (s :: S). Term s (PAsData PCurrencySymbol) -> Term s (PAsData PScriptHash)

-- | @since WIP
pscriptHashToCurrencySymbol :: forall (s :: S). Term s (PAsData PScriptHash) -> Term s (PAsData PCurrencySymbol)


-- | @since WIP
module Agora.Proxy

-- | @since WIP
proxyScript :: forall (s :: S). Term s (PAsData PCurrencySymbol :--> (PAsData PScriptContext :--> PUnit))

-- | @since WIP
data PProxyDatum s
PProxyDatum :: Term s (PAsData PScriptHash) -> Term s (PAsData PDatumHash) -> PProxyDatum s
[$sel:receiverScript:PProxyDatum] :: PProxyDatum s -> Term s (PAsData PScriptHash)
[$sel:datumHash:PProxyDatum] :: PProxyDatum s -> Term s (PAsData PDatumHash)

-- | Haskell-level datum for the Proxy Validator script.
--   
--   @since WIP
data ProxyDatum
ProxyDatum :: ScriptHash -> DatumHash -> ProxyDatum
[$sel:pdReceiverScript:ProxyDatum] :: ProxyDatum -> ScriptHash
[$sel:pdDatumHash:ProxyDatum] :: ProxyDatum -> DatumHash
instance Generics.SOP.Universe.Generic Agora.Proxy.ProxyDatum
instance GHC.Generics.Generic Agora.Proxy.ProxyDatum
instance GHC.Show.Show Agora.Proxy.ProxyDatum
instance Plutarch.Internal.PlutusType.PlutusType Agora.Proxy.PProxyDatum
instance Plutarch.Internal.IsData.PIsData Agora.Proxy.PProxyDatum
instance Plutarch.Internal.Eq.PEq Agora.Proxy.PProxyDatum
instance forall (s :: Plutarch.Internal.Term.S). Generics.SOP.Universe.Generic (Agora.Proxy.PProxyDatum s)
instance forall (s :: Plutarch.Internal.Term.S). GHC.Generics.Generic (Agora.Proxy.PProxyDatum s)
instance Plutarch.Internal.TryFrom.PTryFrom Plutarch.Builtin.Data.PData (Plutarch.Builtin.Data.PAsData Agora.Proxy.PProxyDatum)
instance PlutusTx.IsData.Class.FromData Agora.Proxy.ProxyDatum
instance PlutusTx.IsData.Class.ToData Agora.Proxy.ProxyDatum


-- | This module was copied from the Liqwid-Labs/agora repo, and updated to
--   work with Plutus V3 and Plutarch 1.10.1
--   
--   @since WIP
module Agora.AuthorityToken

-- | Assert that a single authority token has been burned.
--   
--   @since WIP
singleAuthorityTokenBurned :: forall (keys :: KeyGuarantees) (amounts :: AmountGuarantees) (s :: S). Term s PCurrencySymbol -> Term s (PBuiltinList (PAsData PTxInInfo)) -> Term s (PValue keys amounts) -> Term s PBool

-- | Check that all GATs are valid in a particular TxOut.
--   
--   WARNING: As of version 1.0.0, this has been weakened in order to be
--   compatible with RATs. The token name is no longer checked, meaning
--   that a GAT can escape from its effect script, if the effect script is
--   vulnerable. In order to prevent this, all effect scripts should be
--   implemented carefully, and ideally use the trusted effect base. See
--   also <a>Effect</a>.
--   
--   (before 1.0.0) How this is checked: an AuthorityToken should never
--   leave the Effect it was initially sent to, so we simply check that the
--   script address the token resides in matches the TokenName. Since the
--   TokenName was tagged upon mint with the Effect script it was sent to,
--   this is enough to prove validity. In other words, check that all
--   assets of a particular currency symbol are tagged with a TokenName
--   that matches where they live.
--   
--   @since WIP
authorityTokensValidIn :: forall (s :: S). Term s (PCurrencySymbol :--> (PTxOut :--> PBool))

module Agora.Effects.Voting
votingEffectValidator :: ClosedTerm (PAsData PCurrencySymbol :--> (PAsData PScriptContext :--> PUnit))

-- | Haskell-level datum for the Voting Effect Validator script.
data VotingDatum
VotingDatum :: GovernanceActionId -> Vote -> VotingDatum
[$sel:vdGovernanceActionId:VotingDatum] :: VotingDatum -> GovernanceActionId
[$sel:vdVote:VotingDatum] :: VotingDatum -> Vote
instance Plutarch.Internal.PlutusType.PlutusType Agora.Effects.Voting.PVotingDatum
instance Plutarch.Internal.IsData.PIsData Agora.Effects.Voting.PVotingDatum
instance Plutarch.Internal.Eq.PEq Agora.Effects.Voting.PVotingDatum
instance forall (s :: Plutarch.Internal.Term.S). Generics.SOP.Universe.Generic (Agora.Effects.Voting.PVotingDatum s)
instance forall (s :: Plutarch.Internal.Term.S). GHC.Generics.Generic (Agora.Effects.Voting.PVotingDatum s)
instance Plutarch.Internal.TryFrom.PTryFrom Plutarch.Builtin.Data.PData (Plutarch.Builtin.Data.PAsData Agora.Effects.Voting.PVotingDatum)
instance PlutusTx.IsData.Class.FromData Agora.Effects.Voting.VotingDatum
instance PlutusTx.IsData.Class.ToData Agora.Effects.Voting.VotingDatum
