<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Agora.AuthorityToken</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">agora-drep</span><ul class="links" id="page-menu"><li><a href="src/Agora.AuthorityToken.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Agora.AuthorityToken</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module was copied from the Liqwid-Labs/agora repo, and updated to work with Plutus V3 and Plutarch 1.10.1</p><p>@since WIP</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:singleAuthorityTokenBurned">singleAuthorityTokenBurned</a> :: <span class="keyword">forall</span> (keys :: KeyGuarantees) (amounts :: AmountGuarantees) (s :: S). Term s PCurrencySymbol -&gt; Term s (PBuiltinList (PAsData PTxInInfo)) -&gt; Term s (PValue keys amounts) -&gt; Term s PBool</li><li class="src short"><a href="#v:authorityTokensValidIn">authorityTokensValidIn</a> :: <span class="keyword">forall</span> (s :: S). Term s (PCurrencySymbol :--&gt; (PTxOut :--&gt; PBool))</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:singleAuthorityTokenBurned" class="def">singleAuthorityTokenBurned</a> :: <span class="keyword">forall</span> (keys :: KeyGuarantees) (amounts :: AmountGuarantees) (s :: S). Term s PCurrencySymbol -&gt; Term s (PBuiltinList (PAsData PTxInInfo)) -&gt; Term s (PValue keys amounts) -&gt; Term s PBool <a href="src/Agora.AuthorityToken.html#singleAuthorityTokenBurned" class="link">Source</a> <a href="#v:singleAuthorityTokenBurned" class="selflink">#</a></p><div class="doc"><p>Assert that a single authority token has been burned.</p><p>@since WIP</p></div></div><div class="top"><p class="src"><a id="v:authorityTokensValidIn" class="def">authorityTokensValidIn</a> :: <span class="keyword">forall</span> (s :: S). Term s (PCurrencySymbol :--&gt; (PTxOut :--&gt; PBool)) <a href="src/Agora.AuthorityToken.html#authorityTokensValidIn" class="link">Source</a> <a href="#v:authorityTokensValidIn" class="selflink">#</a></p><div class="doc"><p>Check that all GATs are valid in a particular TxOut.</p><p>WARNING: As of version 1.0.0, this has been weakened in order to be
  compatible with RATs. The token name is no longer checked, meaning that a
  GAT can escape from its effect script, if the effect script is vulnerable.
  In order to prevent this, all effect scripts should be implemented carefully,
  and ideally use the trusted effect base. See also <code><a href="Agora.html#v:Effect" title="Agora">Effect</a></code>.</p><p>(before 1.0.0) How this is checked: an AuthorityToken should never leave
  the Effect it was initially sent to, so we simply check that
  the script address the token resides in matches the TokenName.
  Since the TokenName was tagged upon mint with the Effect script
  it was sent to, this is enough to prove validity.
  In other words, check that all assets of a particular currency symbol
  are tagged with a TokenName that matches where they live.</p><p>@since WIP</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>